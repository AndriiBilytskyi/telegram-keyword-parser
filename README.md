# Telegram Keyword Parser

Парсер истории сообщений Telegram-группы с выгрузкой авторов и реакций по ключевым словам.

## Возможности

- Парсит все сообщения группы с самого начала по списку ключевых слов (настраивается).
- Собирает данные об авторах сообщений, тексте, дате, реакциях и авторах реакций.
- Фильтрует ботов (не сохраняет их сообщения и реакции).
- Сохраняет результат в файл `authors_with_keywords.csv`.
- Автоматически отправляет файл себе в Telegram («Избранные» / Saved Messages).

## Быстрый старт

1. Склонируйте репозиторий или скачайте файлы.

2. Установите зависимости:
    ```
    pip install -r requirements.txt
    ```

3. Укажите свои данные Telegram API (`api_id`, `api_hash`) в `main.py`. Получить их можно на [my.telegram.org](https://my.telegram.org/).

4. Отредактируйте список ключевых слов и групп при необходимости (`KEYWORDS`, `GROUPS_TO_MONITOR`).

5. Запустите скрипт:
    ```
    python main.py
    ```

6. При первом запуске авторизуйтесь по коду из Telegram (скрипт попросит ввести код).

7. По завершении работы в вашей папке появится файл `authors_with_keywords.csv`, который автоматически будет отправлен в ваши Избранные в Telegram.

## Формат CSV

- msg_id — ID сообщения
- author_id, username, first_name, last_name — автор сообщения
- date — дата и время сообщения (ISO)
- message_text — текст сообщения
- reactions — список использованных реакций
- reaction_users — подробный список пользователей, поставивших реакции (ID, имя, реакция)

## Примечания

- Скрипт обрабатывает только публичные группы, к которым у вас есть доступ.
- Время обработки зависит от количества сообщений в группе.

## Лицензия

MIT License (можете изменить по своему усмотрению)
